"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[11],{60256:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var i,a,o=n(27378),r=n(14935),c=n(12693),l=n(5234),s=n(17157),d=n(9669),u=n(53892),p=n(88922),m=n(8556),b=n(96277),f=n(75037),h=n(99647),g=n(50669),x=n(3924);x.ZP.div(i||(i=(0,g.Z)(["\n  background-color: ",";\n  padding: 15px;\n  border-radius: 5px;\n  box-shadow: 0 0 5px rgba(85, 85, 85, 0.1);\n  margin-bottom: 20px;\n"])),(e=>{let{theme:t}=e;return t.componentBg}));const E=x.ZP.div(a||(a=(0,g.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30px;\n"]))),Z=e=>{let{publication:t}=e;const[n,i]=(0,o.useState)({title:(a=t).title,description:a.description,photo:a.photo,type:a.type,errors:{},touched:{}});var a;const[g,x]=(0,o.useState)(function(e){return e.map((e=>({...e,errors:{},touched:{}})))}(t.contentBlocks)),[Z,k]=(0,o.useState)(!1),v=(0,r.s0)(),w=(0,c.T)(),{t:P}=(0,p.$G)();return o.createElement(o.Fragment,null,o.createElement(E,null,o.createElement(l.Z,{margin:"0",fz:30},P("editPublication")),o.createElement(s.Z,{text:P("send"),clickHandler:e=>{if(e.preventDefault(),(0,u.yB)(n,g)){const e=(0,m.p1)(n,g);k(!0),w((0,f.CA)({values:e,id:t._id})).unwrap().then((()=>v("/mapmem-admin/publications"))).catch(h.D).finally((()=>k(!1)))}},isLoading:Z,disabled:Z,width:"200px"})),o.createElement(d.Z,{isInEditMode:!0,mainInfo:n,setMainInfo:i}),o.createElement(b.Z,{isInEditMode:!0,contentBlocks:g,setContentBlocks:x}))};var k,v=n(87485);const w=x.ZP.div(k||(k=(0,g.Z)(["\n  padding: 20px 40px;\n  width: 100%;\n"]))),P=()=>{const e=(0,c.C)((e=>e.currentPublication.currentPublication)),t=(0,c.C)((e=>e.currentPublication.isLoading)),{id:n}=(0,r.UO)(),i=(0,c.T)();return(0,o.useEffect)((()=>{i((0,v.q)(n))}),[]),o.createElement(w,null,e&&!t&&o.createElement(Z,{publication:e}))}}}]);
//# sourceMappingURL=11.js.map