"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[11],{60256:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(27378),i=n(14935),o=n(12693),c=n(65809),u=n(5234),a=n(17157),l=n(9669),p=n(53892),s=n(88922),f=n(16430);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m,g,O,h=n(8556),y=n(96277),P=n(75037),v=n(99647),Z=n(50669),w=n(3924),E=(w.ZP.div(m||(m=(0,Z.Z)(["\n  background-color: ",";\n  padding: 15px;\n  border-radius: 5px;\n  box-shadow: 0 0 5px rgba(85, 85, 85, 0.1);\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.componentBg})),w.ZP.div(g||(g=(0,Z.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30px;\n"])))),j=function(e){var t,n=e.publication,f=(0,r.useState)({title:(t=n).title,description:t.description,photo:t.photo,type:t.type,errors:{},touched:{}}),d=(0,c.Z)(f,2),m=d[0],g=d[1],O=(0,r.useState)(function(e){return e.map((function(e){return b(b({},e),{},{errors:{},touched:{}})}))}(n.contentBlocks)),Z=(0,c.Z)(O,2),w=Z[0],j=Z[1],x=(0,r.useState)(!1),k=(0,c.Z)(x,2),C=k[0],D=k[1],B=(0,i.s0)(),S=(0,o.T)(),I=(0,s.$G)().t;return r.createElement(r.Fragment,null,r.createElement(E,null,r.createElement(u.Z,{margin:"0",fz:30},I("editPublication")),r.createElement(a.Z,{text:I("send"),clickHandler:function(e){if(e.preventDefault(),(0,p.yB)(m,w)){var t=(0,h.p1)(m,w);D(!0),S((0,P.CA)({values:t,id:n._id})).unwrap().then((function(){return B("/mapmem-admin/publications")})).catch(v.D).finally((function(){return D(!1)}))}},isLoading:C,disabled:C,width:"200px"})),r.createElement(l.Z,{isInEditMode:!0,mainInfo:m,setMainInfo:g}),r.createElement(y.Z,{isInEditMode:!0,contentBlocks:w,setContentBlocks:j}))},x=n(87485),k=w.ZP.div(O||(O=(0,Z.Z)(["\n  padding: 20px 40px;\n  width: 100%;\n"]))),C=function(){var e=(0,o.C)((function(e){return e.currentPublication.currentPublication})),t=(0,o.C)((function(e){return e.currentPublication.isLoading})),n=(0,i.UO)().id,c=(0,o.T)();return(0,r.useEffect)((function(){c((0,x.q)(n))}),[]),r.createElement(k,null,e&&!t&&r.createElement(j,{publication:e}))}}}]);
//# sourceMappingURL=11.js.map