"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[558],{78083:(e,n,t)=>{t.d(n,{Z:()=>x});var l,r,o,a=t(27378),i=t(17157),d=t(5234),c=t(88922),u=t(12693),s=t(41652),m=t(50669),p=t(3924);const h=p.ZP.div(l||(l=(0,m.Z)(["\n  background-color: #fff;\n  min-height: 200px;\n  max-width: 500px;\n  min-width: 440px;\n  padding: 15px 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  border-radius: 5px;\n"]))),v=p.ZP.span(r||(r=(0,m.Z)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  color: ",";\n  cursor: pointer;\n  font-size: 14px;\n  \n  &:hover {\n    color: ",";\n  }\n"])),(e=>{let{theme:n}=e;return n.lightBgColor}),(e=>{let{theme:n}=e;return n.primaryTextColor})),g=p.ZP.div(o||(o=(0,m.Z)(["\n  flex-grow: 1;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n"]))),x=e=>{let{itemId:n,text:t,action:l,onClose:r}=e;const o=(0,u.T)(),{t:m}=(0,c.$G)();return a.createElement(h,null,a.createElement(v,{className:"icon-cross",onClick:r}),a.createElement(d.Z,{align:"center"},m("confirmDelete")),a.createElement(s.Z,{align:"center"},m(t)),a.createElement(g,null,a.createElement(i.Z,{width:"45%",text:m("confirm"),clickHandler:()=>{o(l(n)),r()}}),a.createElement(i.Z,{width:"45%",styleType:"reverse",text:m("cancel"),clickHandler:r})))}},74061:(e,n,t)=>{t.d(n,{Z:()=>p});var l,r,o=t(27378),a=t(50669),i=t(3924),d=t(4930);const c=i.ZP.div(l||(l=(0,a.Z)(["\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.14);\n  z-index: 50;\n  animation: "," 0.2s linear;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),d.M),u=i.ZP.div(r||(r=(0,a.Z)(["\n  position: relative;\n  animation: "," 0.1s ease-in;\n"])),d.A);var s=t(97534),m=t(91011);const p=e=>{let{children:n,outsideHandler:t}=e;const l=(0,o.useRef)(null);return(0,o.useEffect)((()=>((0,m.Yh)(),()=>{(0,m.b)()})),[]),(0,s.O)(l,t||(()=>null)),o.createElement(c,null,o.createElement(u,{ref:l},n||null))}},31678:(e,n,t)=>{t.d(n,{v:()=>v});var l,r,o,a,i=t(27378),d=t(50669),c=t(3924);const u=(0,c.F4)(l||(l=(0,d.Z)(["\n  0% {\n    opacity: 0;\n\t  transform: scale(0.95);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]))),s=c.ZP.div(r||(r=(0,d.Z)(["\n  display: inline-block;\n  position: relative;\n  height: 20px;\n  z-index: ",";\n  width: 20px;\n"])),(e=>{let{isOpen:n}=e;return n?"10":"1"})),m=c.ZP.span(o||(o=(0,d.Z)(["\n  line-height: 1;\n  font-size: 22px;\n  z-index: 12;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    transition: all 0.2s;\n    color: ",";\n  }\n"])),(e=>{let{theme:n}=e;return n.lightTxtColor}),(e=>{let{theme:n}=e;return n.accentColor})),p=c.ZP.div(a||(a=(0,d.Z)(["\n  background-color: #ffffff;\n  position: absolute;\n  right: 50%;\n  bottom: -100%;\n  width: 200px;\n  max-width: 200px;\n  box-shadow: ",";\n  border-radius: 5px;\n  border: 1px solid #efefef;\n  display: ",";\n  animation: "," 0.1s linear;\n"])),(e=>{let{theme:n}=e;return n.softShadow}),(e=>{let{isOpen:n}=e;return n?"block":"none"}),u);var h=t(97534);const v=e=>{let{icon:n,children:t}=e;const l=(0,i.useRef)(null),[r,o]=(0,i.useState)(!1);return(0,h.O)(l,(()=>o(!1))),i.createElement(s,{ref:l,isOpen:r},i.createElement(m,{className:n||"icon-more",onClick:()=>{r||o(!0)}}),i.createElement(p,{isOpen:r},t))}},4930:(e,n,t)=>{t.d(n,{A:()=>d,M:()=>i});var l,r,o=t(50669),a=t(3924);const i=(0,a.F4)(l||(l=(0,o.Z)(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"]))),d=(0,a.F4)(r||(r=(0,o.Z)(["\n  from {\n    opacity: 0;\n    bottom: -15px;\n  }\n\n  to {\n    opacity: 1;\n    bottom: 0;\n  }\n"])))},47673:(e,n,t)=>{function l(e){return{name:e.name,lat:Number(e.lat),lng:Number(e.lng)}}function r(e){return{name:e.name}}t.d(n,{Bv:()=>l,UE:()=>r})},91011:(e,n,t)=>{function l(){const e=function(){const e=document.createElement("div");e.style.cssText="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);const n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n}();document.body.style.overflowY="hidden",document.body.style.paddingRight="".concat(e,"px")}function r(){document.body.style.overflowY="scroll",document.body.style.paddingRight="0"}t.d(n,{Yh:()=>l,b:()=>r})},97534:(e,n,t)=>{t.d(n,{O:()=>r});var l=t(27378);function r(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,l.useEffect)((()=>{function t(t){const l=t.target;e.current&&!e.current.contains(l)&&n()}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}}),[e,t])}},20558:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ee});var l=t(27378),r=t(5234),o=t(17157),a=t(12693),i=t(88922),d=t(31678),c=t(74061),u=t(78083),s=t(47673),m=t(22501);const p={NAME_MIN:4,NAME_MAX:60},{t:h}=m.default;function v(e,n){const t={};return""===e.trim()?(t[n]=h("requiredField"),t):e.trim().length<p.NAME_MIN?(t[n]=h("atLeast",{value:p.NAME_MIN}),t):e.trim().length>p.NAME_MAX?(t[n]=h("lessThan",{value:p.NAME_MAX}),t):t}function g(e){const n={},t=v(e.name.uk,"uk"),l=v(e.name.en,"en");return(Object.values(l).length>0||Object.values(t).length>0)&&(n.name={...l,...t}),n}var x,f=t(79295),E=t(48895),b=t(79332),Z=t(99647),y=t(50669),k=t(3924);const w=k.ZP.div(x||(x=(0,y.Z)(["\n  min-width: 400px;\n  background-color: #fff;\n  padding: 15px 10px;\n"]))),C=e=>{var n,t,d,c,u,m,h,v,x,y;let{onClose:k,type:C}=e;const[M,N]=(0,l.useState)({name:C.name,errors:{},touched:{}}),T=0===Object.keys(M.touched).length||Object.values(M.errors).length>0,[P,A]=(0,l.useState)(!1),O=(0,a.T)(),{t:_}=(0,i.$G)(),z=(0,l.useCallback)((e=>{const{name:n,value:t}=e.target,l=e.target.dataset.language;N((e=>{const r={...e,touched:{...e.touched,[n]:!l||{...e.touched[n],[l]:!0}},[n]:l?{...e[n],[l]:t}:t};return{...r,errors:g(r)}}))}),[]);return l.createElement(w,null,l.createElement(r.Z,{align:"center"},_("editMemorialType")),l.createElement(r.Z,{fz:16},_("typeName")),l.createElement("form",null,l.createElement(f.Z,{locale:"uk",id:"nameUk",name:"name",value:M.name.uk,margin:"0 0 5px",onChange:z,placeholder:"".concat(_("ukrainian")),isValid:(null===(n=M.touched)||void 0===n||null===(n=n.name)||void 0===n?void 0:n.uk)&&!(null!==(t=M.errors)&&void 0!==t&&null!==(t=t.name)&&void 0!==t&&t.uk),fz:16,height:"30px",padding:"10px",min:p.NAME_MIN}),l.createElement(E.Z,{show:(null===(d=M.touched)||void 0===d||null===(d=d.name)||void 0===d?void 0:d.uk)&&!(null===(c=M.errors)||void 0===c||null===(c=c.name)||void 0===c||!c.uk),margin:"5px 0 5px"},null===(u=M.errors)||void 0===u||null===(u=u.name)||void 0===u?void 0:u.uk),l.createElement(f.Z,{locale:"en",id:"nameEn",name:"name",value:M.name.en,margin:"0 0 5px",onChange:z,placeholder:"".concat(_("english")),isValid:(null===(m=M.touched)||void 0===m||null===(m=m.name)||void 0===m?void 0:m.en)&&!(null!==(h=M.errors)&&void 0!==h&&null!==(h=h.name)&&void 0!==h&&h.en),fz:16,height:"30px",padding:"10px",min:p.NAME_MIN}),l.createElement(E.Z,{show:(null===(v=M.touched)||void 0===v||null===(v=v.name)||void 0===v?void 0:v.en)&&!(null===(x=M.errors)||void 0===x||null===(x=x.name)||void 0===x||!x.en),margin:"5px 0 5px"},null===(y=M.errors)||void 0===y||null===(y=y.name)||void 0===y?void 0:y.en),l.createElement(o.Z,{margin:"10px auto",text:_("send"),clickHandler:e=>{if(e.preventDefault(),0===Object.values(M.errors).length){const e=(0,s.UE)(M);A(!0),O((0,b._M)({values:e,id:C._id})).unwrap().then((()=>{k()})).catch(Z.D).finally((()=>{A(!1)}))}},isLoading:P,disabled:T})))};var M,N;const T=k.ZP.ul(M||(M=(0,y.Z)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n"]))),P=k.ZP.li(N||(N=(0,y.Z)(["\n  text-align: left;\n  padding: 10px 15px;\n  border-bottom: 1px solid ",";\n  cursor: pointer;\n  transition: all 0.1s;\n  user-select: none;\n  \n  &:hover {\n    background-color: ",";\n  }\n  \n  &:last-child {\n    color: ",";\n    \n    &:hover {\n      background-color: ",";\n    }\n  }\n"])),(e=>{let{theme:n}=e;return n.borderColor}),(e=>{let{theme:n}=e;return n.brightBgColor}),(e=>{let{theme:n}=e;return n.dangerColor}),(e=>{let{theme:n}=e;return"".concat(n.dangerColor,"20")})),A=e=>{let{type:n}=e;const[t,r]=(0,l.useState)(!1),[o,a]=(0,l.useState)(!1),{t:d}=(0,i.$G)(),s=()=>{a(!o)},m=()=>{r(!t)};return l.createElement(l.Fragment,null,o&&l.createElement(c.Z,{outsideHandler:s},l.createElement(u.Z,{itemId:n._id,action:b.fQ,text:d("deleteMemorialTypeText"),onClose:s})),t&&l.createElement(c.Z,{outsideHandler:m},l.createElement(C,{type:n,onClose:m})),l.createElement(T,null,l.createElement(P,{onClick:m},d("edit")),l.createElement(P,{onClick:s},d("delete"))))};var O,_;const z=(0,k.F4)(O||(O=(0,y.Z)(["\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"]))),S=k.ZP.tr(_||(_=(0,y.Z)(["\n  border-bottom: 1px solid ",";\n  width: 100%;\n  animation: "," 0.2s linear;\n  \n  td {\n    height: 60px;\n    padding: 15px 5px;\n    \n    p {\n      margin: 0 10px 0 0;\n    }\n  }\n  \n  td:first-child {\n    padding-left: 10px;\n    text-align: center;\n  }\n\n  td:nth-child(2) {\n\n    p {\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 1;\n      overflow: hidden;\n    }\n  }\n\n  td:nth-child(3) {\n    \n    p {\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 1;\n      overflow: hidden;\n    }\n  }\n  \n  td:last-child {\n    text-align: center;\n  }\n"])),(e=>{let{theme:n}=e;return n.borderColor}),z),j=e=>{let{type:n}=e;const{name:t,index:r,count:o}=n;return l.createElement(S,null,l.createElement("td",null,r),l.createElement("td",null,l.createElement("p",null,t.uk)),l.createElement("td",null,o),l.createElement("td",null,l.createElement(d.v,null,l.createElement(A,{type:n}))))},H=(0,l.memo)(j);var I,L,G=t(28799);const F=k.ZP.table(I||(I=(0,y.Z)(["\n  border-collapse: collapse;\n  border-spacing: 0;\n  table-layout: fixed;\n  width: calc(100% - 20px);\n  background-color: #fff;\n  margin: 0 10px 40px;\n  border-radius: 10px;\n  box-shadow: ",";\n"])),(e=>{let{theme:n}=e;return n.softShadow})),D=k.ZP.thead(L||(L=(0,y.Z)(["\n  width: 100%;\n  border-radius: 10px;\n  border: 1px solid ",";\n  \n  th {\n    text-align: left;\n    padding: 15px 5px;\n    font-weight: 600;\n    color: ",";\n    font-size: 14px;\n  }\n\n  th:first-child {\n    width: 5%;\n    padding-left: 10px;\n    text-align: center;\n  }\n\n  th:nth-child(2) {\n    width: 60%;\n  }\n\n  th:nth-child(3) {\n    width: 30%;\n  }\n\n  th:nth-child(4) {\n    width: 5%;\n    text-align: center;\n  }\n"])),(e=>{let{theme:n}=e;return n.semiLightBgColor}),(e=>{let{theme:n}=e;return n.primaryTextColor})),U=()=>{const e=(0,a.C)(G.o);return l.createElement(F,null,l.createElement(D,null,l.createElement("tr",null,l.createElement("th",null,"№"),l.createElement("th",null,"Назва"),l.createElement("th",null,"Кількість"),l.createElement("th",null,"#"))),l.createElement("tbody",null,e.map((e=>l.createElement(H,{key:e._id,type:e})))))};var $;const B=k.ZP.div($||($=(0,y.Z)(["\n  min-width: 400px;\n  background-color: #fff;\n  padding: 15px 10px;\n"]))),R={name:{uk:"",en:""},touched:{},errors:{}},V=e=>{var n,t,d,c,u,m,h,v,x,y;let{onClose:k}=e;const[w,C]=(0,l.useState)(!1),[M,N]=(0,l.useState)(R),T=0===Object.keys(M.touched).length||Object.values(M.errors).length>0,P=(0,a.T)(),{t:A}=(0,i.$G)(),O=(0,l.useCallback)((e=>{const{name:n,value:t}=e.target,l=e.target.dataset.language;N((e=>{const r={...e,touched:{...e.touched,[n]:!l||{...e.touched[n],[l]:!0}},[n]:l?{...e[n],[l]:t}:t};return{...r,errors:g(r)}}))}),[]);return l.createElement(B,null,l.createElement(r.Z,{align:"center"},A("addMemorialType")),l.createElement(r.Z,{fz:16},A("typeName")),l.createElement("form",null,l.createElement(f.Z,{locale:"uk",id:"nameUk",name:"name",value:M.name.uk,margin:"0 0 5px",onChange:O,placeholder:"".concat(A("ukrainian")),isValid:(null===(n=M.touched)||void 0===n||null===(n=n.name)||void 0===n?void 0:n.uk)&&!(null!==(t=M.errors)&&void 0!==t&&null!==(t=t.name)&&void 0!==t&&t.uk),fz:16,height:"30px",padding:"10px",min:p.NAME_MIN}),l.createElement(E.Z,{show:(null===(d=M.touched)||void 0===d||null===(d=d.name)||void 0===d?void 0:d.uk)&&!(null===(c=M.errors)||void 0===c||null===(c=c.name)||void 0===c||!c.uk),margin:"5px 0 5px"},null===(u=M.errors)||void 0===u||null===(u=u.name)||void 0===u?void 0:u.uk),l.createElement(f.Z,{locale:"en",id:"nameEn",name:"name",value:M.name.en,margin:"0 0 5px",onChange:O,placeholder:"".concat(A("english")),isValid:(null===(m=M.touched)||void 0===m||null===(m=m.name)||void 0===m?void 0:m.en)&&!(null!==(h=M.errors)&&void 0!==h&&null!==(h=h.name)&&void 0!==h&&h.en),fz:16,height:"30px",padding:"10px",min:p.NAME_MIN}),l.createElement(E.Z,{show:(null===(v=M.touched)||void 0===v||null===(v=v.name)||void 0===v?void 0:v.en)&&!(null===(x=M.errors)||void 0===x||null===(x=x.name)||void 0===x||!x.en),margin:"5px 0 5px"},null===(y=M.errors)||void 0===y||null===(y=y.name)||void 0===y?void 0:y.en),l.createElement(o.Z,{margin:"10px auto",text:A("send"),clickHandler:e=>{if(e.preventDefault(),0===Object.values(M.errors).length){const e=(0,s.UE)(M);C(!0),P((0,b.ZS)(e)).unwrap().then((()=>{k()})).catch(Z.D).finally((()=>{C(!1)}))}},isLoading:w,disabled:T})))};var Y,X,W,q=t(3972);const Q=k.ZP.div(Y||(Y=(0,y.Z)(["\n  padding: 10px 20px;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  border-bottom: 1px solid ",";\n"])),(e=>{let{theme:n}=e;return n.borderColor})),J=k.ZP.div(X||(X=(0,y.Z)(["\n  display: flex;\n  gap: 15px;\n  align-items: center;\n"]))),K=k.ZP.span(W||(W=(0,y.Z)(["\n  color: ",";\n  cursor: pointer;\n  \n  &:hover {\n    color: ",";\n  }\n"])),(e=>{let{theme:n}=e;return n.lightTxtColor}),(e=>{let{theme:n}=e;return n.primaryTextColor})),ee=()=>{const e=(0,a.C)((e=>e.memorialTypes.isLoading)),[n,t]=(0,l.useState)(!1),d=(0,a.T)(),{t:u}=(0,i.$G)(),s=()=>{t(!n)};return l.createElement("div",null,n&&l.createElement(c.Z,{outsideHandler:s},l.createElement(V,{onClose:s})),l.createElement(Q,null,l.createElement(J,null,l.createElement(r.Z,null,u("memorialTypes")),l.createElement(K,{className:"icon-refresh",onClick:()=>{d((0,b.GZ)())}})),l.createElement(o.Z,{clickHandler:s,text:u("addMemorialType"),isLoading:e,disabled:e})),e?l.createElement(q.a,{size:50}):l.createElement(U,null))}},28799:(e,n,t)=>{t.d(n,{o:()=>r});var l=t(39202);const{selectAll:r}=l.GL.getSelectors((e=>e.memorialTypes))}}]);
//# sourceMappingURL=558.js.map