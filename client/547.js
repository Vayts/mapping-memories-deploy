"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[547],{96277:function(e,n,t){t.d(n,{Z:function(){return Ie}});var r,o,l,i,c,a,u=t(16430),p=t(65809),d=t(27378),s=t(74061),m=t(17157),f=t(88922),h=t(59875),v=t(5234),g=t(53892),b=t(79295),x=t(48895),E=t(41652),k=t(50669),O=t(3924),Z=O.ZP.div(r||(r=(0,k.Z)([""]))),y=O.ZP.div(o||(o=(0,k.Z)(["\n  background-color: ",";\n  padding: 15px;\n  border-radius: 5px;\n  box-shadow: 0 0 5px rgba(85, 85, 85, 0.1);\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.componentBg})),P=O.ZP.iframe(l||(l=(0,k.Z)(["\n  width: 500px;\n  height: 320px;\n  border: 1px solid ",";\n  position: relative;\n  \n  &:before {\n    content: 'JOPA';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    display: block;\n    z-index: 10;\n  }\n"])),(function(e){return e.theme.borderColor})),w=O.ZP.ul(i||(i=(0,k.Z)(["\n  margin: 0;\n  list-style: none;\n  padding: 0;\n"]))),C=O.ZP.li(c||(c=(0,k.Z)(["\n  position: relative;\n"]))),j=O.ZP.span(a||(a=(0,k.Z)(["\n  position: absolute;\n  top: 15px;\n  font-size: 14px;\n  right: 15px;\n  color: ",";\n  cursor: pointer;\n  \n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.lightTxtColor}),(function(e){return e.theme.accentColor})),I=function(e){var n,t,r,o,l,i,c=e.contentBlock,a=e.onChange,u=c.content,p=c.errors,s=c.touched,m=c._id,h=(0,f.$G)().t,g=(0,d.useCallback)((function(e){a(e,m)}),[]);return d.createElement(y,null,d.createElement(v.Z,null,h("yVideo")),d.createElement(E.Z,null,h("videoBlockTxt")),d.createElement(P,{src:p.link?"":u.link,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}),d.createElement(b.Z,{id:"link".concat(m),name:"link",value:u.link,margin:"10px 0 5px",onChange:g,placeholder:"".concat(h("link")),label:"".concat(h("link")),isValid:s.link&&!p.link,fz:16,padding:"10px",min:2}),d.createElement(x.Z,{show:s.link&&!!p.link,margin:"5px 0 5px"},p.link),d.createElement(v.Z,{fz:16,fw:400},"".concat(h("shortDescription")," (").concat(h("optional"),")")),d.createElement(b.Z,{locale:"uk",id:"descriptionUk".concat(m),name:"description",value:u.description.uk,margin:"10px 0 5px",onChange:g,placeholder:"".concat(h("ukrainian")),fz:16,padding:"10px",min:2}),d.createElement(x.Z,{show:(null==s||null===(n=s.description)||void 0===n?void 0:n.uk)&&!(null==p||null===(t=p.description)||void 0===t||!t.uk),margin:"5px 0 5px"},null==p||null===(r=p.description)||void 0===r?void 0:r.uk),d.createElement(b.Z,{locale:"en",id:"descriptionEn".concat(m),name:"description",value:u.description.en,margin:"10px 0 5px",onChange:g,placeholder:"".concat(h("english")),fz:16,padding:"10px",min:2}),d.createElement(x.Z,{show:(null==s||null===(o=s.description)||void 0===o?void 0:o.en)&&!(null==p||null===(l=p.description)||void 0===l||!l.en),margin:"5px 0 5px"},null==p||null===(i=p.description)||void 0===i?void 0:i.en))},T=(0,d.memo)(I),D=t(83216),S=function(e){var n=e.editorState,t=e.onChange,r=e.locale,o=(0,d.useCallback)((function(e){t(e,r)}),[n]);return d.createElement(d.Fragment,null,d.createElement(D.Editor,{editorState:n,editorClassName:"editor",toolbar:{options:["inline","blockType","list","textAlign","link"],blockType:{inDropdown:!1,options:["Normal","H2","H3","Blockquote"]}},onEditorStateChange:o}))},M=(0,d.memo)(S),L=t(57704),_=t(72072),B=t.n(_),N=t(14591);function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var R,U=function(e){var n,t,r,o,l,i,c=e.onChange,a=e.contentBlock,s=e.isInEditMode,m=a._id,h=a.touched,g=a.errors,b=a.content,E=(0,d.useState)({uk:L.EditorState.createEmpty(),en:L.EditorState.createEmpty()}),k=(0,p.Z)(E,2),O=k[0],Z=k[1],P=(0,f.$G)().t;(0,d.useEffect)((function(){s&&Z({uk:L.EditorState.createWithContent((0,N.h4)(b.text.uk)),en:L.EditorState.createWithContent((0,N.h4)(b.text.en))})}),[]);var w=(0,d.useCallback)((function(e,n){Z((function(t){return F(F({},t),{},(0,u.Z)({},n,e))}));var t=B()((0,L.convertToRaw)(e.getCurrentContent()));c("text",t,n,m)}),[]);return d.createElement(y,null,d.createElement(v.Z,null,P("text")),d.createElement(v.Z,{margin:"0 0 10px",fz:16},P("ukrainian")),d.createElement(M,{editorState:O.uk,onChange:w,locale:"uk"}),d.createElement(x.Z,{show:(null==h||null===(n=h.text)||void 0===n?void 0:n.uk)&&!(null==g||null===(t=g.text)||void 0===t||!t.uk),margin:"5px 0 5px"},null==g||null===(r=g.text)||void 0===r?void 0:r.uk),d.createElement(v.Z,{margin:"20px 0 10px",fz:16},P("english")),d.createElement(M,{editorState:O.en,onChange:w,locale:"en"}),d.createElement(x.Z,{show:(null==h||null===(o=h.text)||void 0===o?void 0:o.en)&&!(null==g||null===(l=g.text)||void 0===l||!l.en),margin:"5px 0 5px"},null==g||null===(i=g.text)||void 0===i?void 0:i.en))},H=(0,d.memo)(U),V=t(13539),A=t(62188),X=t(19887),q=t(95399),G=O.ZP.div(R||(R=(0,k.Z)(["\n  width: 780px;\n  height: 420px;\n"])));function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K,W,J,Q,ee,ne,te,re,oe,le,ie,ce={isOpen:!1,photo:null,photoBlob:null,width:500,height:269,border:60,saveFunc:function(){return null},photoName:"photo"},ae=function(e){var n,t,r,o,l,i,c=e.contentBlock,a=e.onChange,u=e.onPhotoSave,s=e.isInEditMode,h=(0,d.useState)(ce),g=(0,p.Z)(h,2),E=g[0],k=g[1],O=(0,d.useState)(!1),Z=(0,p.Z)(O,2),P=Z[0],w=Z[1],C=(0,d.useState)(null),j=(0,p.Z)(C,2),I=j[0],T=j[1],D=c.content,S=c._id,M=c.touched,L=c.errors,_=(0,f.$G)().t,B=(0,d.useCallback)((function(e){a(e,S)}),[]),N=function(e){u(e,S,"photo"),T(URL.createObjectURL(e)),s&&w(!0)},z=(0,d.useCallback)((function(){u(null,S,"photo"),T(null)}),[]),F=(0,d.useCallback)((function(e){if(e.target&&e.target.files&&e.target.files[0]){var n=e.target.files[0],t=URL.createObjectURL(n);return k((function(e){return Y(Y({},e),{},{photo:n,photoBlob:t,photoName:"".concat((0,X.Z)(),"_").concat(Date.now()),isOpen:!0,saveFunc:N})})),!0}return!1}),[]);return d.createElement(y,null,E.isOpen?d.createElement(V.Z,{state:E,setState:k}):null,d.createElement(v.Z,null,_("photo")),d.createElement(G,null,d.createElement(A.Z,{id:"contentBlock".concat(S,"Photo"),onChange:F,name:"photo",value:s&&!P?"".concat(q._n,"/file/download/photo?id=").concat(D.photo):I,margin:"0"})),d.createElement(m.Z,{margin:"15px 0 0",text:_("deletePhoto"),clickHandler:z,disabled:null===D.photo}),d.createElement(b.Z,{id:"source".concat(S),name:"source",value:D.source,margin:"10px 0 5px",onChange:B,label:"".concat(_("source"),"  (").concat(_("optional"),")"),placeholder:_("source"),isValid:(null==M?void 0:M.source)&&!(null!=L&&L.source),fz:16,padding:"10px",min:2}),d.createElement(x.Z,{show:(null==M?void 0:M.source)&&!(null==L||!L.source),margin:"5px 0 5px"},null==L?void 0:L.source),d.createElement(v.Z,{fz:16,fw:400},"".concat(_("shortDescription")," (").concat(_("optional"),")")),d.createElement(b.Z,{locale:"uk",id:"descriptionUK".concat(S),name:"description",value:D.description.uk,margin:"10px 0 5px",onChange:B,placeholder:_("ukrainian"),fz:16,padding:"10px",min:2}),d.createElement(x.Z,{show:(null==M||null===(n=M.description)||void 0===n?void 0:n.uk)&&!(null==L||null===(t=L.description)||void 0===t||!t.uk),margin:"5px 0 5px"},null==L||null===(r=L.description)||void 0===r?void 0:r.uk),d.createElement(b.Z,{locale:"en",id:"description".concat(S),name:"description",value:D.description.en,margin:"10px 0 5px",onChange:B,placeholder:"".concat(_("english")),fz:16,padding:"10px",min:2}),d.createElement(x.Z,{show:(null==M||null===(o=M.description)||void 0===o?void 0:o.en)&&!(null==L||null===(l=L.description)||void 0===l||!l.en),margin:"5px 0 5px"},null==L||null===(i=L.description)||void 0===i?void 0:i.en))},ue=(0,d.memo)(ae),pe=t(51714),de=O.ZP.div(K||(K=(0,k.Z)(["\n  margin: ",";\n  width: auto;\n  display: flex;\n  align-items: center;\n  \n  span {\n    margin-left: 10px;\n    max-width: 220px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"])),(function(e){var n=e.margin;return void 0===n?"5px 0":n})),se=O.ZP.label(W||(W=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n"]))),me=O.ZP.span(J||(J=(0,k.Z)(["\n  font-size: 14px;\n  color: ",";\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.lightTxtColor}),(function(e){return e.theme.primaryTextColor})),fe=O.ZP.input.attrs({type:"file",accept:".pdf"})(Q||(Q=(0,k.Z)(["\n  display: none;\n"]))),he=function(e){var n=e.onDelete,t=e.onChange,r=e.margin,o=e.name,l=e.id,i=e.value,c=(0,d.useRef)(null),a=(0,f.$G)().t,u=(0,d.useCallback)((function(e){var n,r=null===(n=e.target.files)||void 0===n?void 0:n[0];if(r){if("application/pdf"!==r.type)return(0,pe.v)(a("pdfTypeError"),"error"),!1;t(e)}e.target.value=""}),[]);return d.createElement(de,{margin:r},d.createElement(se,{htmlFor:l},d.createElement(m.Z,{clickHandler:function(){c.current&&c.current.click()},text:a("choosePdfFile")}),i&&d.createElement("span",null,null==i?void 0:i.name)),i&&d.createElement(me,{className:"icon-cross",onClick:n}),d.createElement(fe,{ref:c,onChange:u,id:l,name:o}))},ve=O.ZP.iframe(ee||(ee=(0,k.Z)(["\n  width: 100%;\n  height: 500px;\n  margin-bottom: 20px;\n  display: block;\n"]))),ge=O.ZP.div(ne||(ne=(0,k.Z)(["\n  width: 100%;\n  height: 500px;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 2px dotted #E2E8F0;\n"]))),be=function(e){var n=e.onChange,t=e.contentBlock,r=e.isInEditMode,o=(0,d.useState)(!1),l=(0,p.Z)(o,2),i=l[0],c=l[1],a=t.content,u=t.errors,s=t.touched,m=t._id,h=(0,f.$G)().t,g=(0,d.useCallback)((function(e){var t,o=null===(t=e.target.files)||void 0===t?void 0:t[0];o&&(n(o,m,"file"),r&&c(!0))}),[]),b=(0,d.useCallback)((function(){n(null,m,"file")}),[]);return d.createElement(y,null,d.createElement(v.Z,null,h("pdf")),a.file&&d.createElement(ve,{title:"".concat(m,"pdf"),src:r&&!i?"".concat(q._n,"/file/download/pdf?id=").concat(a.file):URL.createObjectURL(a.file)}),!a.file&&d.createElement(ge,null,d.createElement("span",null,h("pdfText"))),d.createElement(he,{id:"contentBlockPdfUploader".concat(m),onChange:g,onDelete:b,name:"contentBlockPdfUploader".concat(m),value:a.file}),d.createElement(x.Z,{show:(null==s?void 0:s.file)&&!(null==u||!u.file),margin:"5px 0 5px"},null==u?void 0:u.file))},xe=(0,d.memo)(be),Ee=t(30126),ke=O.ZP.div(te||(te=(0,k.Z)(["\n  background-color: ",";\n  max-width: 400px;\n  width: 400px;\n  position: relative;\n  padding-bottom: 10px;\n  border-radius: 5px;\n  \n  & > span {\n    font-size: 12px;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    color: ",";\n    transition: all 0.2s;\n    cursor: pointer;\n    \n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.componentBg}),(function(e){return e.theme.lightBgColor}),(function(e){return e.theme.primaryTextColor})),Oe=O.ZP.ul(re||(re=(0,k.Z)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  max-height: 300px;\n"]))),Ze=O.ZP.label(oe||(oe=(0,k.Z)(["\n  display: block;\n  width: 100%;\n  padding: 10px;\n  cursor: pointer;\n  color: ",";;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  transition: all 0.1s;\n  \n  ","\n"])),(function(e){var n=e.theme;return e.checked?n.componentBg:"inherit"}),(function(e){var n=e.theme;return e.checked?n.accentColor:"transparent"}),(function(e){var n=e.theme;return e.checked?n.accentColor:n.semiLightBgColor}),(function(e){var n=e.checked,t=e.theme;if(!n)return(0,O.iv)(le||(le=(0,k.Z)(["\n        &:hover {\n          background-color: ",";\n        }\n      "])),t.brightBgColor)})),ye=O.ZP.input.attrs({type:"radio"})(ie||(ie=(0,k.Z)(["\n  display: none;\n"])));function Pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var we=function(e){var n=e.setContentBlocks,t=e.setModal,r=(0,d.useState)(null),o=(0,p.Z)(r,2),l=o[0],i=o[1],c=(0,f.$G)().t,a=(0,d.useCallback)((function(){l&&(n((function(e){var n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pe(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({_id:(0,X.Z)(),errors:{},touched:{}},l);return[].concat((0,Ee.Z)(e),[n])})),t(!1))}),[l]);return d.createElement(ke,null,d.createElement("span",{onClick:function(){t(!1)},className:"icon-cross"}),d.createElement(v.Z,{align:"center",margin:"5px 0",padding:"20px 10px"},c("selectContentType")),d.createElement(Oe,null,h.p.map((function(e){return d.createElement("li",{key:e.type,onClick:function(){return function(e){i(e)}(e)}},d.createElement(Ze,{checked:!!l&&l.type===e.type},c(e.type),d.createElement(ye,null)))}))),d.createElement(m.Z,{margin:"30px auto 0",text:c("add"),clickHandler:a,disabled:!l}))};function Ce(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function je(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ce(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ce(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ie=function(e){var n=e.setContentBlocks,t=e.contentBlocks,r=e.isInEditMode,o=(0,d.useState)(!1),l=(0,p.Z)(o,2),i=l[0],c=l[1],a=(0,f.$G)().t,b=(0,d.useCallback)((function(){c(!i)}),[i]),x=(0,d.useCallback)((function(e,t){var r=e.target,o=r.name,l=r.value,i=e.target.dataset.language;n((function(e){return e.map((function(e){if(e._id===t){var n=je(je({},e),{},{content:je(je({},e.content),{},(0,u.Z)({},o,i?je(je({},e.content[o]),{},(0,u.Z)({},i,l)):l)),touched:je(je({},e.touched),{},(0,u.Z)({},o,!i||je(je({},e.touched[o]),{},(0,u.Z)({},i,!0))))});return je(je({},n),{},{errors:(0,g.fz)(n)})}return e}))}))}),[]),E=(0,d.useCallback)((function(e,t,r){n((function(n){return n.map((function(n){return n._id===t?je(je({},n),{},{content:je(je({},n.content),{},(0,u.Z)({},r,e)),touched:je(je({},n.touched),{},(0,u.Z)({},r,!0)),errors:je({},(0,g.fz)(je(je({},n),{},{content:je(je({},n.content),{},(0,u.Z)({},r,e))})))}):n}))}))}),[]),k=(0,d.useCallback)((function(e,t,r,o){n((function(n){return n.map((function(n){if(n._id===o){var l=je(je({},n),{},{content:je(je({},n.content),{},(0,u.Z)({},e,je(je({},n.content[e]),{},(0,u.Z)({},r,t)))),touched:je(je({},n.touched),{},(0,u.Z)({},e,!r||je(je({},n.touched[e]),{},(0,u.Z)({},r,!0))))});return je(je({},l),{},{errors:(0,g.fz)(l)})}return n}))}))}),[]),O=(0,d.useCallback)((function(e){n((function(n){return n.filter((function(n){return n._id!==e}))}))}),[]);return d.createElement(Z,null,d.createElement(v.Z,{margin:"0 0 20px",fz:30},a("content")),i&&d.createElement(s.Z,{outsideHandler:b},d.createElement(we,{setContentBlocks:n,setModal:c})),d.createElement(w,null,t.map((function(e){return d.createElement(C,{key:e._id},d.createElement(j,{className:"icon-cross",onClick:function(){return O(e._id)}}),function(e){switch(e.type){case h.P.Y_VIDEO:return d.createElement(T,{contentBlock:e,onChange:x});case h.P.TEXT:return d.createElement(H,{onChange:k,contentBlock:e,isInEditMode:r});case h.P.PHOTO:return d.createElement(ue,{onPhotoSave:E,onChange:x,contentBlock:e,isInEditMode:r});case h.P.PDF:return d.createElement(xe,{onChange:E,contentBlock:e,isInEditMode:r});default:return null}}(e))}))),d.createElement(m.Z,{padding:"15px 20px",margin:"15px auto",text:a("addContentBlock"),clickHandler:b}))}},9669:function(e,n,t){t.d(n,{Z:function(){return j}});var r,o,l=t(16430),i=t(65809),c=t(27378),a=t(79295),u=t(48895),p=t(5234),d=t(88922),s=t(75012),m=t(13539),f=t(62188),h=t(17157),v=t(70597),g=t(53892),b=t(19887),x=t(75133),E=t(95399),k=t(50669),O=t(3924),Z=O.ZP.div(r||(r=(0,k.Z)(["\n  width: 380px;\n  height: 240px;\n"]))),y=O.ZP.div(o||(o=(0,k.Z)(["\n  background-color: ",";\n  padding: 15px;\n  border-radius: 5px;\n  box-shadow: 0 0 5px rgba(85, 85, 85, 0.1);\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.componentBg}));function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C={isOpen:!1,photo:null,photoBlob:null,width:380,height:240,border:60,saveFunc:function(){return null},photoName:"firstPhoto"},j=function(e){var n,t,r,o,k,O,P,j,I,T,D,S,M,L,_,B,N,z,F,R,U=e.setMainInfo,H=e.mainInfo,V=e.isInEditMode,A=H.errors,X=H.title,q=H.description,G=H.touched,$=(0,c.useState)(!1),Y=(0,i.Z)($,2),K=Y[0],W=Y[1],J=(0,c.useState)(C),Q=(0,i.Z)(J,2),ee=Q[0],ne=Q[1],te=(0,c.useState)(null),re=(0,i.Z)(te,2),oe=re[0],le=re[1],ie=(0,d.$G)().t,ce=(0,c.useCallback)((function(e){U((function(n){return w(w({},n),{},{photo:e,touched:w(w({},n.touched),{},{photo:!0})})})),le(URL.createObjectURL(e)),V&&W(!0)}),[]),ae=(0,c.useCallback)((function(e){if(e.target&&e.target.files&&e.target.files[0]){var n=e.target.files[0],t=URL.createObjectURL(n);return ne((function(e){return w(w({},e),{},{photo:n,photoName:"".concat((0,b.Z)(),"_").concat(Date.now()),photoBlob:t,isOpen:!0,saveFunc:ce})})),!0}return!1}),[]),ue=(0,c.useCallback)((function(e){var n=e.target,t=n.name,r=n.value,o=e.target.dataset.language;U((function(e){var n=w(w({},e),{},(0,l.Z)({touched:w(w({},e.touched),{},(0,l.Z)({},t,!o||w(w({},e.touched[t]),{},(0,l.Z)({},o,!0))))},t,o?w(w({},e[t]),{},(0,l.Z)({},o,r)):r));return w(w({},n),{},{errors:(0,g.CU)(n)})}))}),[]),pe=(0,c.useCallback)((function(e){U((function(n){var t=w(w({},n),{},{touched:w(w({},n.touched),{},{type:!0}),type:e});return w(w({},t),{},{errors:(0,g.CU)(t)})}))}),[]),de=(0,c.useCallback)((function(){U((function(e){return w(w({},e),{},{photo:null})})),le(null)}),[]);return c.createElement("div",null,ee.isOpen?c.createElement(m.Z,{state:ee,setState:ne}):null,c.createElement(y,null,c.createElement(p.Z,{margin:"5px 0 15px"},ie("photo")),c.createElement(Z,null,c.createElement(f.Z,{id:"photo",onChange:ae,name:"photo",value:V&&!K?"".concat(E._n,"/file/download/photo?id=").concat(H.photo):oe,margin:"0 0 20px"})),c.createElement(u.Z,{show:(null==G?void 0:G.photo)&&!(null==A||!A.photo),margin:"5px 0 5px"},null==A?void 0:A.photo),c.createElement(h.Z,{margin:"15px 0 0",text:ie("deletePhoto"),clickHandler:de,disabled:null===H.photo})),c.createElement(y,null,c.createElement(p.Z,{margin:"5px 0 15px"},ie("publicationType")),c.createElement(x.Z,{selected:H.type,name:"typeSelect",id:"typeSelect",isValid:(null==G?void 0:G.type)&&!(null!=A&&A.type),onChange:pe,placeholder:ie("publicationType"),valueArr:v.K}),c.createElement(u.Z,{show:(null==G?void 0:G.type)&&!(null==A||!A.type),margin:"5px 0 5px"},null==A?void 0:A.type)),c.createElement(y,null,c.createElement(p.Z,{margin:"5px 0 15px"},ie("publicationTittle")),c.createElement(a.Z,{locale:"uk",id:"titleUk",name:"title",value:X.uk,margin:"0 0 5px",onChange:ue,placeholder:"".concat(ie("ukrainian")),label:"".concat(ie("ukrainian")),isValid:(null==G||null===(n=G.title)||void 0===n?void 0:n.uk)&&!(null!=A&&null!==(t=A.title)&&void 0!==t&&t.uk),fz:16,padding:"10px",min:v.m.LIMIT.TITLE_MIN}),c.createElement(u.Z,{show:(null==G||null===(r=G.title)||void 0===r?void 0:r.uk)&&!(null==A||null===(o=A.title)||void 0===o||!o.uk),margin:"5px 0 5px"},null==A||null===(k=A.title)||void 0===k?void 0:k.uk),c.createElement(a.Z,{locale:"en",id:"titleEn",name:"title",margin:"0 0 5px",value:X.en,onChange:ue,placeholder:"".concat(ie("english")),label:"".concat(ie("english")),isValid:(null==G||null===(O=G.title)||void 0===O?void 0:O.en)&&!(null!=A&&null!==(P=A.title)&&void 0!==P&&P.en),fz:16,padding:"10px",min:v.m.LIMIT.TITLE_MIN}),c.createElement(u.Z,{show:(null==G||null===(j=G.title)||void 0===j?void 0:j.en)&&!(null==A||null===(I=A.title)||void 0===I||!I.en),margin:"5px 0 5px"},null==A||null===(T=A.title)||void 0===T?void 0:T.en)),c.createElement(y,null,c.createElement(p.Z,{margin:"5px 0 15px"},ie("smallDescription")),c.createElement(s.Z,{locale:"uk",value:q.uk,onChange:ue,name:"description",id:"descriptionUk",height:"200px",margin:"0",padding:"10px",fz:16,placeholder:"".concat(ie("ukrainian")),label:"".concat(ie("ukrainian")),isValid:(null==G||null===(D=G.description)||void 0===D?void 0:D.uk)&&!(null!=A&&null!==(S=A.description)&&void 0!==S&&S.uk),max:1500}),c.createElement(u.Z,{show:(null==G||null===(M=G.description)||void 0===M?void 0:M.uk)&&!(null==A||null===(L=A.description)||void 0===L||!L.uk),margin:"5px 0 5px"},null==A||null===(_=A.description)||void 0===_?void 0:_.uk),c.createElement(s.Z,{locale:"en",value:q.en,onChange:ue,name:"description",id:"descriptionEn",height:"200px",margin:"0",padding:"10px",fz:16,placeholder:"".concat(ie("english")),label:"".concat(ie("english")),isValid:(null==G||null===(B=G.description)||void 0===B?void 0:B.en)&&!(null!=A&&null!==(N=A.description)&&void 0!==N&&N.en),max:1500}),c.createElement(u.Z,{show:(null==G||null===(z=G.description)||void 0===z?void 0:z.en)&&!(null==A||null===(F=A.description)||void 0===F||!F.en),margin:"5px 0 5px"},null==A||null===(R=A.description)||void 0===R?void 0:R.en)))}},74061:function(e,n,t){t.d(n,{Z:function(){return m}});var r,o,l=t(27378),i=t(50669),c=t(3924),a=t(4930),u=c.ZP.div(r||(r=(0,i.Z)(["\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.14);\n  z-index: 50;\n  animation: "," 0.2s linear;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),a.M),p=c.ZP.div(o||(o=(0,i.Z)(["\n  position: relative;\n  animation: "," 0.1s ease-in;\n"])),a.A),d=t(97534),s=t(91011),m=function(e){var n=e.children,t=e.outsideHandler,r=(0,l.useRef)(null);return(0,l.useEffect)((function(){return(0,s.Yh)(),function(){(0,s.b)()}}),[]),(0,d.O)(r,t||function(){return null}),l.createElement(u,null,l.createElement(p,{ref:r},n||null))}},70597:function(e,n,t){t.d(n,{K:function(){return o},m:function(){return r}});var r={LIMIT:{TITLE_MIN:2,TITLE_MAX:120,DESCRIPTION_MIN:30,DESCRIPTION_MAX:400}},o=["interview","artProject","specialProject"]},59875:function(e,n,t){t.d(n,{P:function(){return r},p:function(){return o}});var r={Y_VIDEO:"yVideo",TEXT:"text",PHOTO:"photo",PDF:"pdf"},o=[{type:r.Y_VIDEO,content:{link:"",description:{uk:"",en:""}}},{type:r.TEXT,content:{text:{uk:"",en:""}}},{type:r.PHOTO,content:{photo:null,source:"",description:{uk:"",en:""}}},{type:r.PDF,content:{file:null}}]},53892:function(e,n,t){t.d(n,{CU:function(){return h},fz:function(){return g},yB:function(){return b}});var r=t(16430),o=t(22501),l=t(70597),i=t(59875),c=t(51714),a=t(30298);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=o.ZP.t;function s(e,n){var t={};return""===e.trim()?(t[n]=d("requiredField"),t):e.trim().length<l.m.LIMIT.TITLE_MIN?(t[n]=d("atLeast",{value:l.m.LIMIT.TITLE_MIN}),t):e.trim().length>l.m.LIMIT.TITLE_MAX?(t[n]=d("lessThan",{value:l.m.LIMIT.TITLE_MAX}),t):t}function m(e,n){var t={};return""===e.trim()?(t[n]=d("requiredField"),t):e.trim().length<l.m.LIMIT.DESCRIPTION_MIN?(t[n]=d("atLeast",{value:l.m.LIMIT.DESCRIPTION_MIN}),t):e.trim().length>l.m.LIMIT.DESCRIPTION_MAX?(t[n]=d("lessThan",{value:l.m.LIMIT.DESCRIPTION_MAX}),t):t}function f(e){var n={};return e||(n.photo=d("requiredField")),n}function h(e){var n=s(e.title.uk,"uk"),t=s(e.title.en,"en"),r=m(e.description.uk,"uk"),o=m(e.description.en,"en"),i=function(e){var n={};return e?(l.K.includes(e)||(n.type=d("wrongPublicationType")),n):(n.type=d("requiredField"),n)}(e.type),c=f(e.photo),a={};return(Object.values(n).length>0||Object.values(t).length>0)&&(a.title=p(p({},n),t)),(Object.values(r).length>0||Object.values(o).length>0)&&(a.description=p(p({},r),o)),p(p(p({},a),c),i)}function v(e,n){var t={};return e.trim().length<8?(t[n]=d("requiredField"),t):t}function g(e){switch(e.type){case i.P.Y_VIDEO:return function(e){var n,t;return p({},(t={},(n=e.link)?(a.qu.test(n)||(t.link=d("incorrectLink")),t):(t.link=d("requiredField"),t)))}(e.content);case i.P.PHOTO:return function(e){var n,t,r=(t={},""===(n=e.source)||a.eN.test(n)||(t.source=d("incorrectLink")),t),o=f(e.photo);return p(p({},r),o)}(e.content);case i.P.TEXT:return t=v((n=e.content).text.uk,"uk"),r=v(n.text.en,"en"),o={},(Object.values(t).length>0||Object.values(r).length>0)&&(o.text=p(p({},r),t)),p({},o);case i.P.PDF:return function(e){var n=function(e){var n={};return e.file||(n.file=d("requiredField")),n}(e);return p({},n)}(e.content);default:return{}}var n,t,r,o}function b(e,n){var t=h(e);if(Object.values(t).length>0)return(0,c.v)("".concat(d("incorrectDataInForm")),"error"),!1;if(n.length<1)return(0,c.v)(d("atLeast1ContentBlock"),"error"),!1;var r=n.map((function(e){return Object.values(g(e)).length>0}));return!r.includes(!0)||((0,c.v)("".concat(d("errorIn",{value:"".concat(d("contentBlockNumber",{value:r.indexOf(!0)+1}))})),"error"),!1)}}}]);
//# sourceMappingURL=547.js.map